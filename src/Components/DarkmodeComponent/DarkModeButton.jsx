import React, { useState, useEffect } from "react";
import "./Dark_mode_button_style.css";
export const DarkModeButton = () => {
  const [darkMode, setDarkMode] = useState(false);

  useEffect(() => {
    const isDarkMode = localStorage.getItem("darkMode") === "true";
    setDarkMode(isDarkMode);
    applyDarkMode(isDarkMode);
  }, []);

  const applyDarkMode = (isDarkMode) => {
    if (isDarkMode) {
      document.documentElement.classList.add("dark");
    } else {
      document.documentElement.classList.remove("dark");
    }
  };

  const toggleDarkMode = () => {
    const newDarkMode = !darkMode;
    setDarkMode(newDarkMode);
    localStorage.setItem("darkMode", newDarkMode);
    applyDarkMode(newDarkMode);
  };
  return (
    <div className="flex absolute top-5 right-5 z-auto">
      <input
        type="checkbox"
        value={darkMode}
        checked={darkMode}
        id="darkmode-toggle"
        onChange={toggleDarkMode}
      />

      <label className="darkMode-label" htmlFor="darkmode-toggle">
        <svg
          className="sun"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M18 12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12C6 8.68629 8.68629 6 12 6C15.3137 6 18 8.68629 18 12Z" />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M12 1.25C12.4142 1.25 12.75 1.58579 12.75 2V3C12.75 3.41421 12.4142 3.75 12 3.75C11.5858 3.75 11.25 3.41421 11.25 3V2C11.25 1.58579 11.5858 1.25 12 1.25ZM4.39861 4.39861C4.6915 4.10572 5.16638 4.10572 5.45927 4.39861L5.85211 4.79145C6.145 5.08434 6.145 5.55921 5.85211 5.85211C5.55921 6.145 5.08434 6.145 4.79145 5.85211L4.39861 5.45927C4.10572 5.16638 4.10572 4.6915 4.39861 4.39861ZM19.6011 4.39887C19.894 4.69176 19.894 5.16664 19.6011 5.45953L19.2083 5.85237C18.9154 6.14526 18.4405 6.14526 18.1476 5.85237C17.8547 5.55947 17.8547 5.0846 18.1476 4.79171L18.5405 4.39887C18.8334 4.10598 19.3082 4.10598 19.6011 4.39887ZM1.25 12C1.25 11.5858 1.58579 11.25 2 11.25H3C3.41421 11.25 3.75 11.5858 3.75 12C3.75 12.4142 3.41421 12.75 3 12.75H2C1.58579 12.75 1.25 12.4142 1.25 12ZM20.25 12C20.25 11.5858 20.5858 11.25 21 11.25H22C22.4142 11.25 22.75 11.5858 22.75 12C22.75 12.4142 22.4142 12.75 22 12.75H21C20.5858 12.75 20.25 12.4142 20.25 12ZM18.1476 18.1476C18.4405 17.8547 18.9154 17.8547 19.2083 18.1476L19.6011 18.5405C19.894 18.8334 19.894 19.3082 19.6011 19.6011C19.3082 19.894 18.8334 19.894 18.5405 19.6011L18.1476 19.2083C17.8547 18.9154 17.8547 18.4405 18.1476 18.1476ZM5.85211 18.1479C6.145 18.4408 6.145 18.9157 5.85211 19.2086L5.45927 19.6014C5.16638 19.8943 4.6915 19.8943 4.39861 19.6014C4.10572 19.3085 4.10572 18.8336 4.39861 18.5407L4.79145 18.1479C5.08434 17.855 5.55921 17.855 5.85211 18.1479ZM12 20.25C12.4142 20.25 12.75 20.5858 12.75 21V22C12.75 22.4142 12.4142 22.75 12 22.75C11.5858 22.75 11.25 22.4142 11.25 22V21C11.25 20.5858 11.5858 20.25 12 20.25Z"
          />
        </svg>
        <svg
          className="moon"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M18.8417 3.26636C18.7159 2.91121 18.2137 2.91121 18.0878 3.26636L17.6565 4.48356C17.6162 4.59724 17.5268 4.68667 17.4131 4.72695L16.1959 5.15825C15.8408 5.28409 15.8408 5.78633 16.1959 5.91217L17.4131 6.34347C17.5268 6.38375 17.6162 6.47318 17.6565 6.58686L18.0878 7.80406C18.2137 8.1592 18.7159 8.1592 18.8417 7.80406L19.273 6.58686C19.3133 6.47318 19.4028 6.38375 19.5164 6.34347L20.7336 5.91217C21.0888 5.78633 21.0888 5.28409 20.7336 5.15825L19.5164 4.72695C19.4028 4.68667 19.3133 4.59724 19.273 4.48356L18.8417 3.26636Z" />
          <path d="M14.148 7.24033C14.235 6.995 14.5819 6.995 14.6689 7.24033L14.9066 7.9112C14.9344 7.98973 14.9962 8.05151 15.0747 8.07934L15.7456 8.31705C15.9909 8.40398 15.9909 8.75094 15.7456 8.83787L15.0747 9.07558C14.9962 9.1034 14.9344 9.16518 14.9066 9.24371L14.6689 9.91458C14.5819 10.1599 14.235 10.1599 14.148 9.91458L13.9103 9.24371C13.8825 9.16518 13.8207 9.1034 13.7422 9.07558L13.0713 8.83787C12.826 8.75094 12.826 8.40398 13.0713 8.31705L13.7422 8.07934C13.8207 8.05151 13.8825 7.98973 13.9103 7.9112L14.148 7.24033Z" />
          <path d="M16.7701 10.2212C16.828 10.0577 17.0593 10.0577 17.1173 10.2212L17.2757 10.6685C17.2943 10.7208 17.3355 10.762 17.3878 10.7806L17.8351 10.9391C17.9986 10.997 17.9986 11.2283 17.8351 11.2863L17.3878 11.4447C17.3355 11.4633 17.2943 11.5045 17.2757 11.5568L17.1173 12.0041C17.0593 12.1676 16.828 12.1676 16.7701 12.0041L16.6116 11.5568C16.593 11.5045 16.5518 11.4633 16.4995 11.4447L16.0522 11.2863C15.8887 11.2283 15.8887 10.997 16.0522 10.9391L16.4995 10.7806C16.5518 10.762 16.593 10.7208 16.6116 10.6685L16.7701 10.2212Z" />
          <path d="M11.1347 4.65082C11.2895 4.92163 11.2632 5.25949 11.0684 5.50312C10.2511 6.52542 9.76722 7.80518 9.76722 9.19444C9.76722 12.5078 12.5377 15.2308 16.0014 15.2308C16.9528 15.2308 17.852 15.0249 18.656 14.6579C18.9386 14.529 19.2712 14.5848 19.4962 14.7989C19.7212 15.013 19.7933 15.3425 19.6785 15.6311C18.4249 18.7812 15.2868 21 11.6297 21C6.88437 21 3 17.2564 3 12.5929C3 8.35107 6.21566 4.86876 10.3667 4.27529C10.6755 4.23114 10.9799 4.38 11.1347 4.65082Z" />
        </svg>
      </label>
    </div>
  );
};
